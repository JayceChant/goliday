# Goliday



基于 go 的节假日服务，单文件（不包括配置文件），无依赖。



## 启动

```bash
start.sh
```

停止暂时需要 kill

```bash
ps -ef | grep goliday # 获得 pid
kill -9 pid
```

因为启动后长期运行，问题不算太大。后续会加上退出指令。

## 配置

暂时可配置项只有 `config/festival.json`

每年 11 ~12 月 国务院假日办 发布 **来年的法定节假日方案** 之后，提交更新即可。

以 json 的方式，将调整部分写入文件，文件没有定义的部分，就按周几的数据返回。

目前已包含 16年 ~ 18年 的数据，可以作为参考。

配置时需要注意，长假里哪些是法定假日，哪些是调休的周休日。举例：

* 春节长假，初一至初三是法定假日，除夕及余下假日是周休调休
* 国庆长假，1日 至 3日是法定假日，余下的是周休调休
* 放三天的假期，只有节日当天是法定，余下是周休调休

这个规则符合近几年的规律，不排除未来假日办会修订

## 使用

```
Usage:
1. /                帮助信息，也就是当前页面
2. /holiday         返回一段时间内的每天是否节假日，0-工作日/1-周末/2-节假日，参数支持 y=2018（一年）， m=201801（一个月）, d=20180101（一天）, 结果用 json 返回。d 允许传多个参数。
3. /holidayCount    返回一段时间内的节假日(1/2)数量，?st=20180101&ed=20180205，返回 [st, ed) 范围内的结果，st < ed
4. /weekendCount    同 3，仅统计周末(1)
5. /festivalCount   同 3，仅统计节日(2)
6. /workdayCount    同 3，仅统计工作日(0)，相当于总天数减掉 3 的结果
```

